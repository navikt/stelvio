<?xml version="1.0"?>
<project>
	<target name="serviceDeploy">
		<property name="serviceDeploy.dir" value="${project.build.directory}" />
		<condition property="serviceDeploy.executable" value="${wid.runtime}/bin/serviceDeploy.bat" else="${wid.runtime}/bin/serviceDeploy.sh">
			<os family="windows"/>
		</condition>
		<property name="serviceDeploy.outputApplication" value="${project.build.finalName}.ear" />
		<exec dir="${serviceDeploy.dir}" executable="${serviceDeploy.executable}" failonerror="true">
			<arg path="${project.build.directory}/${project.build.finalName}.zip" />
			<arg line="-outputApplication ${serviceDeploy.outputApplication}" />
			<arg value="-keep" />
			<arg value="-cleanStagingModules" />
			<arg line="-skipXsdValidate true" />
			<arg line="-progressMonitor none" />
		</exec>
	</target>
</project>