<?xml version="1.0"?>
<project>
	<target name="deployArtifact">
	
		<condition property="wsadmin.executable" value="${wid.home}/pf/wps/bin/wsadmin.bat" else="${wid.home}/pf/wps/bin/wsadmin.sh">
			<os family="windows"/>
		</condition>
					
		<echo>---------------------------------------------------</echo>	
		<echo>Deploying ${artifactcount} to ${script.environment}</echo>	
		<echo>---------------------------------------------------</echo>	
	
		<property name="arg0" value=" -lang jython"/>
		<property name="arg1" value=" -host ${wsadmin.host}"/>
		<property name="arg2" value=" -port ${wsadmin.port}"/>
		<property name="arg3" value=" -user ${wsadmin.username}"/>
		<property name="arg4" value=" -password ${wsadmin.password}"/>	
		<property name="arg5" value=" -f ${script.home}/scripts/Applications.py applications ${script.environment} ${script.home} ${deployableartifacts.home}"/>
			
		<echo>${wsadmin.executable} ${arg0}${arg1}${arg2}${arg3}${arg4}${arg5}</echo>
		
		<exec dir="${script.home}/scripts" executable="${wsadmin.executable}" failonerror="true">
			<arg line="${arg0}${arg1}${arg2}${arg3}${arg4}${arg5}"/>
		</exec>
	
	</target>
</project>