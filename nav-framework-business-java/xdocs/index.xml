<?xml version="1.0" encoding="iso-8859-1"?>
<document>
	<properties>
		<link REL="SHORTCUT ICON" HREF="/images/logo.ico"></link>
		<title>J2EE-rammeverk - Forretningstjenester</title>
	</properties>
	<body>
		<!-- Don't remove the next line, it is used to substitute compiler errors if maven site fails -->
		<!--ERRORS-->
		<section name="J2EE-rammeverk - Forretningstjenester">
		
			<subsection name="Oversikt">
			
				<p>
					Dette prosjektet inneholder forretningstjenestene i Trygdeetatens J2EE-rammeverk.
					Komponentene og tjenestene er av en slik karakter at de kun skal kunne benyttes i 
					forretningsslaget. Figuren nedenfor viser hvordan komponentene i forretningslaget
					implementerer "best practice" designmønstre og flyten av kontroll mellom dem.
					<img src="images/design/arch_components_business_overview.gif"/><br/>
				</p>
				
			</subsection>
			
			<subsection name="Beskrivelse">
			
				<p>
					Forretningslaget er en logisk samling av funksjonalitet som implementerer applikasjonenes 
					forretningsmessige behov og krav. Funksjonaliteten kan kan bestå av beregninger, 
					valideringer, prosesser med mere. Komponentene i forretningslaget skal ikke kjenne til 
					hvordan integrasjon med ulike typer datakilder skal foregå, ei kjenne til hvordan 
					brukeren aksesserer data i brukergrensesnittet.
				</p>
				<p>
					Følgende komponenter danner basis for implementasjon av forretningslogikken:
					<ul>
						<li>
							<i>BusinessService</i> - Applikasjonenes forretningslogikk implementeres som et
							sett av tjenester. Disse tjenestene implementeres som vanlige javaklasser (POJO)
							som arver fra den abstrakte klassen <i>BusinessService</i>, slik at de blir raske 
							å utvikle og enkle å enhetsteste. Tjenestene registreres og konfigureres i en XML-fil, 
							slik at de enkelt kan lokaliseres og kalles, samt omkonfigureres eller erstattes 
							uten behov for programmering.
							<br/>
						</li>
						<li>
							<i>BusinessFacade</i> - Applikasjonenes forretningslogikk aksesseres gjennom en 
							felles inngangsport. På denne måten vil vi få en fasade som enkelt kan skjule 
							kompleksiteten innenfor, samt beskytte funksjonalitet fra uønsket tilgang. Denne 
							fasaden vil benytte konfigurasjonsfilen til å lokalisere de ulike forretningstjenestene, 
							og deretter kalle dem. Dette implementeres vha <i>Command Pattern(GoF)</i>. Fasaden 
							implementeres som en <i>Stateless Session EJB</i>.
							<br/>
						</li>
						<li>
							<i>ServiceLocator</i> - Arkitekturkomponent som benyttes for å lokalisere, slå opp 
							og cache en fasade eller tjeneste. En <i>RemoteServiceLocator</i> benyttes for å 
							lokalisere forretnings- og integrasjonsfasadene, som er konfigurert i 
							<u>distributed-services.xml</u>. En <i>ApplicationServiceLocator</i> benyttes av 
							forretningsfasaden for å lokalisere forretningstjenestene, som er konfigurert i 
							<u>application-services.xml</u>.
							<br/>
						</li>
						<li>
							<i>BusinessDelegate</i> - Arkitekturkomponent som benyttes for å skjule kompleksitet 
							ifm oppslag av og kall mot forretningsfasaden, feilhåndtering og ytelsesmåling. 
							Denne komponenten vil samle felleslogikk fra et potensielt stort antall komponenter.
							I Bidrag fase 2 forventes det at denne komponenten alene vil redusere antall gjentakelse 
							av kode fra 200 til 0, noe som vil gi store tidsbesparelser under utvikling, samt redusere 
							sannsynligheten for feil betraktelig.
							<br/>
						</li>
					</ul>
				</p>
			
			</subsection>
			
			<subsection name="Klassediagram">
			
				<p>
					Diagrammet nedenfor viser arv og avhengigheter mellom de sentrale komponentene 
					i forretningslaget. Interne EJB/RMI klasser er utelatt for å forenkle oversikten.
					<br/><img src="images/design/BusinessServicesClass.gif"/><br/>
				</p>	
			
			</subsection>
			
				<subsection name="Sekvensdiagram">
			
				<p>
					Diagrammet nedenfor viser hvordan avhengighetene mellom objektene settes vha 
					<i>dependency injection</i>, samt hvordan et objekt av typen <i>Struts Action</i> 
					kan benytte et <i>BusinessDelegate</i> objekt for å delegere kall til et objekt av
					typen <i>BusinessService</i>.
					<br/><img src="images/design/BusinessServicesSequence.gif"/><br/>
				</p>
			
			</subsection>
			
			<subsection name="Liste over forretningstjenester">
				<table>
					<tr>
						<th>Tjeneste</th>
						<th>Design</th>
						<th>Guide</th>
						<th>Javadoc</th>
					</tr>
					
					<tr>
						<td>Business Delegate</td>
						<td><a href="design/BusinessDelegate.html">Design</a></td>
						<td><a href="guide/BusinessDelegate.html">Guide</a></td>
						<td><a href="apidocs/index.html">no.trygdeetaten.web.framework.business</a></td>
					</tr>
					
					<tr>
						<td>Service Locator</td>
						<td><a href="http://hpapt03/multiproject/rtv-framework-common-java/design/ServiceLocator.html">Design</a></td>
						<td><a href="http://hpapt03/multiproject/rtv-framework-common-java/guide/ServiceLocator.html">Guide</a></td>
						<td><a href="http://hpapt03/multiproject/rtv-framework-common-java/apidocs/no/trygdeetaten/common/framework/service/package-summary.html">no.trygdeetaten.common.framework.service</a></td>
					</tr>
					
					<tr>
						<td>Business Facade</td>
						<td><a href="design/BusinessFacade.html">Design</a></td>
						<td><a href="guide/BusinessFacade.html">Guide</a></td>
						<td><a href="apidocs/index.html">no.trygdeetaten.business.framework.facade</a></td>
					</tr>
					
					<tr>
						<td>Business Service</td>
						<td><a href="design/BusinessService.html">Design</a></td>
						<td><a href="guide/BusinessService.html">Guide</a></td>
						<td><a href="apidocs/index.html">no.nav.business.framework.service</a></td>
					</tr>
					
					<tr>
						<td>Feilhåndtering</td>
						<td colspan="2"><a href="http://hpapt03/multiproject/rtv-framework-integration-java/design/ErrorHandling.html">Design og Guide</a></td>
						<td><a href="http://hpapt03/multiproject/rtv-framework-common-java/apidocs/no/trygdeetaten/common/framework/error/package-summary.html">no.nav.common.framework.error</a></td>
					</tr>
					
					<tr>
						<td>Transaksjonshåndtering</td>
						<td><a href="design/Transactions.html">Design</a></td>
						<td><a href="guide/Transactions.html">Guide</a></td>
						<td><a href="http://hpapt03/multiproject/rtv-framework-common-java/apidocs/no/trygdeetaten/common/framework/ejb/package-summary.html">no.trygdeetaten.common.framework.ejb</a></td>
					</tr>
										
				</table>
			
			</subsection>
			
			<subsection name = "Endringslogg">
<source><![CDATA[
$Log$
Revision 1.7  2004/06/18 10:37:28  psa2920
oppdatert linker til javadoc

Revision 1.6  2004/06/18 10:27:16  psa2920
la til endringslogg
]]>			
</source>
			</subsection>			
			
		</section>
	</body>
</document>
     
