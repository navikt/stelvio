<datapower-configuration version="3">
	<export-details>
		<description>Exported Configuration </description>
		<user/>
		<domain/>
		<comment>SMSGateway_proxy</comment>
		<product-id>9003-XS40-03</product-id>
		<product>XS40</product>
		<model>DataPower XS40</model>
		<device-name>dp-tst-01.adeo.no</device-name>
		<serial-number>13003C9</serial-number>
		<firmware-version>XS40.3.7.2.2</firmware-version>
		<firmware-build>168415</firmware-build>
		<firmware-timestamp>2009/03/24 19:50:52</firmware-timestamp>
	</export-details>
	<configuration>
		<StylePolicyAction name="SMSGateway_Policy_request-rule-aaaAction" xmlns:env="http://www.w3.org/2003/05/soap-envelope" xmlns:dp="http://www.datapower.com/schemas/management">
			<mAdminState>enabled</mAdminState>
			<Type>aaa</Type>
			<Input>INPUT</Input>
			<Output>PIPE</Output>
			<NamedInOutLocationType>default</NamedInOutLocationType>
			<AAA class="AAAPolicy">SMSRestrictions</AAA>
			<Transactional>off</Transactional>
			<SOAPValidation>body</SOAPValidation>
			<SQLSourceType>static</SQLSourceType>
			<Asynchronous>off</Asynchronous>
			<ResultsMode>first-available</ResultsMode>
			<RetryCount>0</RetryCount>
			<RetryInterval>1000</RetryInterval>
			<MultipleOutputs>off</MultipleOutputs>
			<IteratorType>XPATH</IteratorType>
			<Timeout>0</Timeout>
		</StylePolicyAction>
		<AAAPolicy name="SMSRestrictions" xmlns:env="http://www.w3.org/2003/05/soap-envelope" xmlns:dp="http://www.datapower.com/schemas/management">
			<mAdminState>enabled</mAdminState>
			<ExtractIdentity>
				<EIBitmap>
					<http-basic-auth>off</http-basic-auth>
					<wssec-username>off</wssec-username>
					<wssec-derived-key>off</wssec-derived-key>
					<wssec-binary-token>off</wssec-binary-token>
					<ws-secure-conversation>off</ws-secure-conversation>
					<ws-trust>off</ws-trust>
					<kerberos>off</kerberos>
					<kerberos-spnego>off</kerberos-spnego>
					<client-ssl>off</client-ssl>
					<saml-attr-name>off</saml-attr-name>
					<saml-authen-name>off</saml-authen-name>
					<saml-artifact>off</saml-artifact>
					<client-ip-address>off</client-ip-address>
					<signer-dn>off</signer-dn>
					<token>off</token>
					<cookie-token>off</cookie-token>
					<ltpa>on</ltpa>
					<metadata>off</metadata>
					<custom>off</custom>
				</EIBitmap>
				<EICustomURL/>
				<EIXPath/>
				<EISignerDNValcred/>
				<EICookieName/>
				<EIBasicAuthRealm>login</EIBasicAuthRealm>
				<EIUseWSSec>on</EIUseWSSec>
				<EIMetadata/>
				<EIAllowRemoteTokenReference>off</EIAllowRemoteTokenReference>
				<EIRemoteTokenProcessService/>
				<EIPasswordRetrievalMechanism>xmlfile</EIPasswordRetrievalMechanism>
				<EIPasswordRetrievalCustomURL/>
				<EIPasswordRetrievalAAAInfoURL/>
				<EISSLProxyProfile/>
			</ExtractIdentity>
			<Authenticate>
				<AUMethod>ltpa</AUMethod>
				<AUCustomURL/>
				<AUMapURL/>
				<AUHost/>
				<AUPort/>
				<AUSSLValcred/>
				<AUCacheAllow>absolute</AUCacheAllow>
				<AUCacheTTL>3</AUCacheTTL>
				<AUKerberosPrincipal/>
				<AUKerberosPassword/>
				<AUClearTrustServerURL/>
				<AUClearTrustApplication/>
				<AUSAMLArtifactResponder/>
				<AUKerberosVerifySignature>on</AUKerberosVerifySignature>
				<AUNetegrityBaseURI/>
				<AUSAMLAuthQueryServer/>
				<AUSAMLVersion>1.1</AUSAMLVersion>
				<AULDAPPrefix>cn=</AULDAPPrefix>
				<AULDAPSuffix/>
				<AULDAPLoadBalanceGroup/>
				<AUKerberosKeytab/>
				<AUWSTrustURL/>
				<AUSAML2Issuer/>
				<AUSignerValcred/>
				<AUSignedXPath/>
				<AUSSLProxyProfile/>
				<AUNetegrityConfig/>
				<AULDAPBindDN/>
				<AULDAPBindPassword/>
				<AULDAPSearchAttribute>userPassword</AULDAPSearchAttribute>
				<AULTPATokenVersionsBitmap>
					<LTPA>on</LTPA>
					<LTPA2>on</LTPA2>
					<LTPADomino>off</LTPADomino>
				</AULTPATokenVersionsBitmap>
				<AULTPAKeyFile>local:///aaa/test.local.ltpa</AULTPAKeyFile>
				<AULTPAKeyFilePassword>Test1234</AULTPAKeyFilePassword>
				<AULTPAStashFile/>
				<AUBinaryTokenX509Valcred/>
				<AUTAMServer/>
				<AUAllowRemoteTokenReference>off</AUAllowRemoteTokenReference>
				<AURemoteTokenProcessService/>
				<AUWSTrustVersion>1.2</AUWSTrustVersion>
				<AULDAPSearchForDN>off</AULDAPSearchForDN>
				<AULDAPSearchParameters/>
				<AUWSTrustRequireClientEntropy>off</AUWSTrustRequireClientEntropy>
				<AUWSTrustClientEntropySize>32</AUWSTrustClientEntropySize>
				<AUWSTrustRequireServerEntropy>off</AUWSTrustRequireServerEntropy>
				<AUWSTrustServerEntropySize>32</AUWSTrustServerEntropySize>
				<AUWSTrustRequireRSTC>off</AUWSTrustRequireRSTC>
				<AUWSTrustRequireAppliesToHeader>off</AUWSTrustRequireAppliesToHeader>
				<AUWSTrustAppliesToHeader/>
				<AUWSTrustEncryptionCertificate/>
				<AUZOSNSSConfig/>
			</Authenticate>
			<MapCredentials>
				<MCMethod>none</MCMethod>
				<MCCustomURL/>
				<MCMapURL/>
				<MCMapXPath/>
				<MCTFIMEndpoint/>
			</MapCredentials>
			<ExtractResource>
				<ERBitmap>
					<target-url>off</target-url>
					<original-url>off</original-url>
					<request-uri>off</request-uri>
					<request-opname>off</request-opname>
					<http-method>off</http-method>
					<XPath>on</XPath>
					<metadata>off</metadata>
				</ERBitmap>
				<ERXPath>/*/*/*/*/*/*/*[local-name()='recipient']</ERXPath>
				<ERMetadata/>
			</ExtractResource>
			<MapResource>
				<MRMethod>none</MRMethod>
				<MRCustomURL/>
				<MRMapURL/>
				<MRMapXPath/>
				<MRTAMMap>WebSEAL</MRTAMMap>
				<MRTAMInstancePrefix/>
				<MRTAMWebSEALDynURLFile/>
			</MapResource>
			<Authorize>
				<AZMethod>xmlfile</AZMethod>
				<AZCustomURL/>
				<AZMapURL>local:///aaa/smsrestrictions.xml</AZMapURL>
				<AZHost/>
				<AZPort/>
				<AZLDAPGroup/>
				<AZValcred/>
				<AZSAMLURL/>
				<AZSAMLType>any</AZSAMLType>
				<AZSAMLXPath/>
				<AZSAMLNameQualifier/>
				<AZCacheAllow>absolute</AZCacheAllow>
				<AZCacheTTL>3</AZCacheTTL>
				<AZNetegrityBaseURI/>
				<AZNetegrityOpNameExtension/>
				<AZClearTrustServerURL/>
				<AZSAMLVersion>1.1</AZSAMLVersion>
				<AZLDAPLoadBalanceGroup/>
				<AZLDAPBindDN/>
				<AZLDAPBindPassword/>
				<AZLDAPGroupAttribute>member</AZLDAPGroupAttribute>
				<AZSSLProxyProfile/>
				<AZNetegrityConfig/>
				<AZLDAPSearchScope>subtree</AZLDAPSearchScope>
				<AZLDAPSearchFilter>(objectClass=*)</AZLDAPSearchFilter>
				<AZXACMLVersion>2.0</AZXACMLVersion>
				<AZXACMLPEPType>deny-biased</AZXACMLPEPType>
				<AZXACMLUseOnBoxPDP>on</AZXACMLUseOnBoxPDP>
				<AZXACMLPDP/>
				<AZXACMLExternalPDPUrl/>
				<AZXACMLBindingMethod>custom</AZXACMLBindingMethod>
				<AZXACMLBindingObject/>
				<AZXACMLBindingXSL/>
				<AZXACMLCustomObligation/>
				<AZXACMLUseSAML2>off</AZXACMLUseSAML2>
				<AZTAMServer/>
				<AZTAMDefaultAction>T</AZTAMDefaultAction>
				<AZTAMActionResourceMap/>
				<AZXACMLUseSOAP>off</AZXACMLUseSOAP>
				<AZZOSNSSConfig/>
				<AZSAFDefaultAction>r</AZSAFDefaultAction>
			</Authorize>
			<PostProcess>
				<PPEnabled>off</PPEnabled>
				<PPCustomURL/>
				<PPSAMLAuthAssertion>off</PPSAMLAuthAssertion>
				<PPSAMLServerName>XS</PPSAMLServerName>
				<PPSAMLNameQualifier/>
				<PPKerberosTicket>off</PPKerberosTicket>
				<PPKerberosClient/>
				<PPKerberosClientPassword/>
				<PPKerberosServer/>
				<PPWSTrust>off</PPWSTrust>
				<PPTimestamp>on</PPTimestamp>
				<PPTimestampExpiry>0</PPTimestampExpiry>
				<PPAllowRenewal>off</PPAllowRenewal>
				<PPSAMLVersion>1.0</PPSAMLVersion>
				<PPSAMLSendSLO>off</PPSAMLSendSLO>
				<PPSAMLSLOEndpoint/>
				<PPSSLProxyProfile/>
				<PPWSUsernameToken>off</PPWSUsernameToken>
				<PPWSUsernameTokenPasswordType>Digest</PPWSUsernameTokenPasswordType>
				<PPSAMLValidity>0</PPSAMLValidity>
				<PPSAMLSkew>0</PPSAMLSkew>
				<PPWSUsernameTokenIncludePwd>on</PPWSUsernameTokenIncludePwd>
				<PPLTPA>off</PPLTPA>
				<PPLTPAVersion>LTPA2</PPLTPAVersion>
				<PPLTPAExpiry>600</PPLTPAExpiry>
				<PPLTPAKeyFile/>
				<PPLTPAKeyFilePassword/>
				<PPLTPAStashFile/>
				<PPKerberosSPNEGOToken>off</PPKerberosSPNEGOToken>
				<PPKerberosBstValueType>http://docs.oasis-open.org/wss/oasis-wss-kerberos-token-profile-1.1#GSS_Kerberosv5_AP_REQ</PPKerberosBstValueType>
				<PPSAMLUseWSSec>off</PPSAMLUseWSSec>
				<PPKerberosClientKeytab/>
				<PPUseWSSec>off</PPUseWSSec>
				<PPActorRoleID/>
				<PPTFIMTokenMapping>off</PPTFIMTokenMapping>
				<PPTFIMEndpoint/>
				<PPWSDerivedKeyUsernameToken>off</PPWSDerivedKeyUsernameToken>
				<PPWSDerivedKeyUsernameTokenIterations>1000</PPWSDerivedKeyUsernameTokenIterations>
				<PPWSUsernameTokenAllowReplacement>off</PPWSUsernameTokenAllowReplacement>
				<PPTFIMReplaceMethod>all</PPTFIMReplaceMethod>
				<PPTFIMRetrieveMode>CallTFIM</PPTFIMRetrieveMode>
				<PPHMACSigningAlg>hmac-sha1</PPHMACSigningAlg>
				<PPSigningHashAlg>sha1</PPSigningHashAlg>
				<PPWSTrustHeader>off</PPWSTrustHeader>
				<PPWSSCKeySource>random</PPWSSCKeySource>
				<PPSharedSecretKey/>
				<PPWSTrustRenewalWait>0</PPWSTrustRenewalWait>
				<PPWSTrustNewInstance>off</PPWSTrustNewInstance>
				<PPWSTrustNewKey>off</PPWSTrustNewKey>
				<PPWSTrustNeverExpire>off</PPWSTrustNeverExpire>
			</PostProcess>
			<SAMLSigningHashAlg>sha1</SAMLSigningHashAlg>
			<SAMLSigningAlg>rsa</SAMLSigningAlg>
			<LDAPsuffix/>
			<LogAllowed>on</LogAllowed>
			<LogAllowedLevel>info</LogAllowedLevel>
			<LogRejected>on</LogRejected>
			<LogRejectedLevel>warn</LogRejectedLevel>
			<PingIdentityCompatibility>off</PingIdentityCompatibility>
			<DoSValve>1</DoSValve>
			<LDAPVersion>v2</LDAPVersion>
			<EnforceSOAPActor>on</EnforceSOAPActor>
			<WSSecActorRoleID/>
		</AAAPolicy>
	</configuration>
</datapower-configuration>