<?xml version="1.0" encoding="iso-8859-1"?>
<document>
	<properties>
		<title>Feilhåndtering - Design</title>
	</properties>
	<body>
		<section name="Feilhåndtering - Design">
			
			<subsection name="Oversikt">
				<p>
					Det må håndteres feil som kan oppstå både internt i presentasjonslaget og feil som kommer fra underliggende
					lag. Kontrollerte feil i presentasjonslaget er valideringer som feiler. Det lages da en feil som kan
					presenteres i JSP siden med en JSP tag. Ukontrollerte feil internt i presentasjonslaget skal vises i en
					standard JSP side.
					<br/>
					Fra underliggende lag kan det komme to typer av Exceptions, ApplicationException og SystemException.
					SystemException skal ikke håndteres av presentasjonslaget (i en Action) men en ApplicationException må
					håndteres av den Action som kaller det underliggende laget. 
				</p>
			</subsection>
			
			<subsection name="Beskrivelse av tjenester">
				<p>
					<h4>Håndtering av feil</h4>
						FrameworkExceptionHandler overstyrer standard ExceptionHandler til Struts for at håndtere feil og logge feil.
						Fanger ApplicationException kastet i underliggende lag og kaller feilhåndtereren i arkitekturen.
						Setter et flagg som viser at en feil er mottatt og som JSP siden bruker for at vise frem feilmeldingen.
						<br/>
						Taggen som brukes i JSP siden må hente feilmeldingen fra arkitekturen og ikke fra resource bundle som 
						vanlig i Struts. Alle feilmeldinger i arkitekturen er samlet i en databasetabell. 
						<a href="Taglibs.html">Se taglib design for mer informasjon</a>
						
					<h4>Driftsmeldinger</h4>
						FindDispatchAction er designet under <a href="ActionForm.html">Action Form</a> men trenger noe
						tilleggsfunksjonalitet for driftsmeldinger. Tjenesten skal sjekke hvis det finnes driftsmeldinger
						som skal vises for brukeren. Hvis det finnes slike meldinger er de flagget i servlet konteksten.
						Action setter et flagg på requesten som en tag sjekker når meldingen skal skrives til web siden.
				</p>
			</subsection>
			
			<subsection name="Implementasjon">
				<p>
					Se javadoc for beskrivelse av klasser og metoder.
					<br/>
					Klassen implementeres i pakken no.stelvio.web.framework.action
                    <br/>
				</p>
										
			</subsection>

			<subsection name = "Endringslogg">
<source><![CDATA[
$Log$
Revision 1.2  2004/06/18 13:10:21  jla2920
Oppdatert etter review og satt inn ny endringslogg
]]>			
</source>
			</subsection>
			
		</section>
	</body>
</document>

