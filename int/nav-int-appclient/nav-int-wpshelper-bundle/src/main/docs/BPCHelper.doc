Message-ID: <test@example.com>
Subject: Exported From Confluence
MIME-Version: 1.0
Content-Type: multipart/related; 
	boundary="----=_Part_177784_1052684611.1398250961148"

------=_Part_177784_1052684611.1398250961148
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
Content-Location: file:///C:/exported.html

<html>
    <head>
        <!-- MS Word on Windows doesn't realise the encoding is UTF-8 unles=
s this meta tag is present -->
        <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Du=
tf-8">
        <title>BPC Helper kommandolinjeverkt=C3=B8y</title>
        <style>
            body, p, td, table, tr, .bodytext, .stepfield {
=09            font-family: Arial, Helvetica, FreeSans, sans-serif;
            }
            .panel {
                margin: 10px;
                padding: 10px;
                border: 1px solid #999;
                background-color: #f0f0f0;
            }
            .noteMacro { border-style: solid; border-width: 1px; border-col=
or: #F0C000; background-color: #FFFFCE; text-align:left;}
            .warningMacro { border-style: solid; border-width: 1px; border-=
color: #c00; background-color: #fcc; text-align:left;}
            .infoMacro { border-style: solid; border-width: 1px; border-col=
or: #69c; background-color: #D8E4F1; text-align:left;}
            .tipMacro { border-style: solid; border-width: 1px; border-colo=
r: #090; background-color: #dfd; text-align:left;}
            .informationMacroPadding { padding: 5px 0 0 5px; }

            table.infoMacro td, table.warningMacro td, table.tipMacro td, t=
able.noteMacro td, table.sectionMacro td {
                border: none;
            }

            .grid {
                margin: 2px 0px 5px 0px;
                border-collapse: collapse;
            }
            .grid th  {
                border: 1px solid #ccc;
                padding: 2px 4px 2px 4px;
                background: #f0f0f0;
                text-align: center;
            }
            .grid td  {
                border: 1px solid #ccc;
                padding: 3px 4px 3px 4px;
            }           =20
        </style>
    </head>

    <body style=3D"background-color: white; padding: 10px;">
        <h1>BPC Helper kommandolinjeverkt=C3=B8y</h1>
        <p>Dokumentasjon for BPC Helper - oppdatert per versjon 3.0.0, 2011=
-04-23</p><p>Originalen til dokumentet finnes p=C3=A5: <a href=3D"http://co=
nfluence.adeo.no/x/MDQB" rel=3D"nofollow">http://confluence.adeo.no/x/MDQB<=
/a></p><h2 id=3D"BPCHelperkommandolinjeverkt=C3=B8y-Sammendrag">Sammendrag<=
/h2><p>BPC Helper er et st=C3=B8tteverkt=C3=B8y for =C3=A5 overv=C3=A5ke og=
 masse-prosessere stoppede forretningsprosesser (BPEL-prosesser). Det vil t=
ypisk benyttes i en driftssituasjon for =C3=A5 overv=C3=A5ke helsetilstande=
n til kj=C3=B8rende prosesser. I tillegg er det ogs=C3=A5 et verkt=C3=B8y f=
or =C3=A5 rapportere og administrere stoppede prosesser - typisk et st=C3=
=B8rre antall prosesser, slik at det ikke er hensiktsmessig =C3=A5 benytte =
BPC Explorer (som leveres med platformen).</p><div class=3D'panelMacro'><ta=
ble class=3D'infoMacro'><colgroup><col width=3D'24'><col></colgroup><tr><td=
 valign=3D'top'><img src=3D"/images/icons/emoticons/information.png" width=
=3D"16" height=3D"16" align=3D"absmiddle" alt=3D"" border=3D"0"></td><td><b=
>Stoppet prosess</b><br /><p>Verkt=C3=B8yet vil <strong>kun</strong> forhol=
de seg til stoppede prosesser. Det er derfor viktig =C3=A5 kunne definere e=
ksakt hva en stoppet prosess er. P=C3=A5 et overordnet niv=C3=A5 er en stop=
pet prosess <em>en prosess som ikke kommer videre uten eksplisitt inngripen=
</em>. Den eksakte (tekniske) definisjonen av en stoppet prosess har blitt =
endret flere ganger under utarbeidelse av vekt=C3=B8yet, men p.t. er en sto=
ppet prosess definert som <em>en prosess som er i tilstand</em> <strong><em=
>FAILED</em></strong> <em>eller</em> <strong><em>TERMINATED</em></strong><e=
m>, eller som har en tilh=C3=B8rende aktivitet i tilstand</em> <strong><em>=
FAILED</em></strong> <em>eller</em> <strong><em>STOPPED</em></strong>.</p><=
/td></tr></table></div><h2 id=3D"BPCHelperkommandolinjeverkt=C3=B8y-Termino=
logi">Terminologi</h2><p>For =C3=A5 gj=C3=B8re dokumentasjonen mer konsiste=
nt, og enklere =C3=A5 holde oppdatert, vil vi benytte oss av noen variable =
i det etterf=C3=B8lgende:</p><div class=3D"table-wrap"><table class=3D"conf=
luenceTable"><tbody><tr><th class=3D"confluenceTh"><p>Navn</p></th><th clas=
s=3D"confluenceTh"><p>Beskrivelse</p></th><th class=3D"confluenceTh"><p>Typ=
isk verdi</p></th></tr><tr><td class=3D"confluenceTd"><p><code>H_HOME</code=
></p></td><td class=3D"confluenceTd"><p>Hjemmekatalog til helpere</p></td><=
td class=3D"confluenceTd"><p><code>/app/tools/bpmhelpers/wpshelpers-&lt;VER=
SION&gt;</code></p></td></tr><tr><td class=3D"confluenceTd"><p><code>LC_HOM=
E</code></p></td><td class=3D"confluenceTd"><p>Katalog hvor launchClient.sh=
 (eventuelt lauchClient.bat) ligger</p></td><td class=3D"confluenceTd"><p><=
code>/opt/IBM/BPM/profiles/Dmgr01/bin eller <code>/opt/IBM/BPM/profiles/bpm=
01/bin</code><br /></code></p></td></tr><tr><td class=3D"confluenceTd"><p><=
code>APP_HOME</code></p></td><td class=3D"confluenceTd"><p>Katalog hvor ins=
tallerte applikasjoner ligger</p></td><td class=3D"confluenceTd"><p><code>/=
opt/IBM/BPM/profiles/bpm01/installedApps/Cell/</code></p></td></tr></tbody>=
</table></div><p><strong>Merk:</strong> Disse variablene vil ikke v=C3=A6re=
 definert i milj=C3=B8ene applikasjonen skal installeres i. Variablene er k=
un ment som kryss-referanser i dokumentasjonen - for =C3=A5 gj=C3=B8re den =
mer konsistent og kompakt.</p><h2 id=3D"BPCHelperkommandolinjeverkt=C3=B8y-=
Installasjonogkonfigurasjon">Installasjon og konfigurasjon</h2><p>Installas=
jon og konfigurasjon er beskrevet i fellessiden for helperverkt=C3=B8yene -=
 se <a href=3D"/display/navpenutv/WPS+helpers">WPS helpers</a></p><h2 id=3D=
"BPCHelperkommandolinjeverkt=C3=B8y-Brukerveiledning">Brukerveiledning</h2>=
<h3 id=3D"BPCHelperkommandolinjeverkt=C3=B8y-Syntaks">Syntaks</h3><p>Ved =
=C3=A5 kj=C3=B8re applikasjonen med parameter <code>--help/-h</code> vil ma=
n f=C3=A5 en oversikt over hvilke parametere applikasjonen st=C3=B8tter.<br=
 /> <strong>Merk:</strong> I tillegg til disse st=C3=B8ttes selvf=C3=B8lgel=
ig standard launchClient parametere som f.eks. logging/trace.</p><div class=
=3D"preformatted panel" style=3D"border-width: 1px;"><div class=3D"preforma=
ttedContent panelContent">
<pre>%LC_HOME%/launchClient.sh %H_HOME%/bpchelper-ear.ear -h
...
usage: launchClient &lt;BPCHelper application&gt; [-CC&lt;name&gt;=3D&lt;va=
lue&gt;] [app args]
where
-CC&lt;name&gt;=3D&lt;value&gt; are the client container (launchClient) nam=
e-value pair arguments
app args are application client arguments.
sample usage: launchClient.sh bpchelper.ear -CCpropfile=3Dhost_config.prope=
rties -cf host_config.properties -a STATUS
 -a,--action &lt;STATUS|REPORT|DELETE|SAMORDNING&gt;                       =
        action to perform (mandatory)
 -an,--activityName &lt;activityName&gt;                                   =
        filter by activity name
 -as,--allStates                                                           =
  filter matching all process and activity states (default: failed/terminat=
ed/stopped)
 -cf,--configFile &lt;configFile&gt;                                       =
        config file with env info (mandatory)
 -h,--help                                                                 =
  print usage information
 -if,--inputFilename &lt;input filename&gt;                                =
        input filename (mandatory with action SAMORDNING)
 -ns,--noStop                                                              =
  Runs the action without prompting after collecting process instance ids
 -pcp,--processCustomProperty &lt;custom property name=3Dcustom property va=
lue&gt;   filter by process custom properties
 -ptn,--processTemplateName &lt;processTemplateName&gt;                    =
        filter by process template name
 -rd,--reportDirectory &lt;path&gt;                                        =
        directory to put report
 -rf,--reportFilename &lt;filename&gt;                                     =
        report filename
 -tf,--timeFrame &lt;time frame [dd.MM.yyyy:hhmm-dd.MM.yyyy:hhmm]&gt;      =
        filter by process started time frame
</pre>
</div></div><h3 id=3D"BPCHelperkommandolinjeverkt=C3=B8y-Kommandoer">Komman=
doer</h3><h4 id=3D"BPCHelperkommandolinjeverkt=C3=B8y-STATUS">STATUS</h4><p=
><em>STATUS</em> kommandoen s=C3=B8ker opp prosesesser som tilfredsstiller =
s=C3=B8kekriteriene, og vil typisk bli brukt i forbindelse med overv=C3=A5k=
ning. Eksempel:</p><div class=3D"preformatted panel" style=3D"border-width:=
 1px;"><div class=3D"preformattedContent panelContent">
<pre>%LC_HOME%/launchClient.sh %H_HOME%/bpchelper-ear.ear -CCtrace=3Dno.nav=
.* -CCpropfile=3D%H_HOME%/Q1_helper.properties -cf %H_HOME%/Q1_helper.prope=
rties -a STATUS
( ... )
[10/13/08 14:32:34:890 CEST] 0000000a  I UOW=3D source=3Dno.nav.bpchelper.a=
ctions.StatusAction class=3Dno.nav.bpchelper.actions.StatusAction method=3D=
execute
          1 qualifying process(es)
</pre>
</div></div><h4 id=3D"BPCHelperkommandolinjeverkt=C3=B8y-REPORT">REPORT</h4=
><p><em>REPORT</em> kommandoen s=C3=B8ker opp prosesesser som tilfredsstill=
er s=C3=B8kekriteriene, og lager en rapport (CSV-format) som enkelt kan les=
es av og analyseres i MS Excel. Eksempel:</p><div class=3D"preformatted pan=
el" style=3D"border-width: 1px;"><div class=3D"preformattedContent panelCon=
tent">
<pre>%LC_HOME%/launchClient.sh %H_HOME%/bpchelper-ear.ear -CCtrace=3Dno.nav=
.* -CCpropfile=3D%H_HOME%/Q1_helper.properties -cf %H_HOME%/Q1_helper.prope=
rties -a REPORT
( ... )
[10/13/08 14:33:11:000 CEST] 0000000a  I UOW=3D source=3Dno.nav.bpchelper.a=
ctions.ReportAction class=3Dno.nav.bpchelper.actions.AbstractReportAction m=
ethod=3Dexecute
          1 qualifying process(es)
Do you want to continue and report 1 qualifying process(es) (y/n)? y
[10/13/08 14:33:15:906 CEST] 0000000a  I UOW=3D source=3Dno.nav.bpchelper.w=
riters.ReportWriter class=3Dno.nav.bpchelper.writers.ReportWriter method=3D=
&lt;init&gt;
          Writing report to file: E:\Develop\helper\nav-int-appclient-bpche=
lper-pom\report_20081310143310296.csv
</pre>
</div></div><h4 id=3D"BPCHelperkommandolinjeverkt=C3=B8y-DELETE">DELETE</h4=
><p><em>DELETE</em> kommandoen s=C3=B8ker opp prosesesser som tilfredsstill=
er s=C3=B8kekriteriene. Deretter termineres (hvis ikke allerede terminert) =
og slettes prosessen(e). Det lages ogs=C3=A5 en rapport (tilsvarende som fo=
r <em>REPORT</em> kommandoen), men med en egen resultat-kolonne som innehol=
der resultatet av termineringen/slettingen. Eksempel:</p><div class=3D"pref=
ormatted panel" style=3D"border-width: 1px;"><div class=3D"preformattedCont=
ent panelContent">
<pre>%LC_HOME%/launchClient.sh %H_HOME%/bpchelper-ear.ear -CCtrace=3Dno.nav=
.* -CCpropfile=3D%H_HOME%/Q1_helper.properties -cf %H_HOME%/Q1_helper.prope=
rties -a DELETE
( ... )
[10/13/08 14:34:04:546 CEST] 0000000a  I UOW=3D source=3Dno.nav.bpchelper.a=
ctions.DeleteAction class=3Dno.nav.bpchelper.actions.AbstractReportAction m=
ethod=3Dexecute
          1 qualifying process(es)
Do you want to continue and delete 1 qualifying process(es) (y/n)? y
[10/13/08 14:34:07:703 CEST] 0000000a  I UOW=3D source=3Dno.nav.bpchelper.w=
riters.ReportWriter class=3Dno.nav.bpchelper.writers.ReportWriter method=3D=
&lt;init&gt;
          Writing report to file: E:\Develop\helper\nav-int-appclient-bpche=
lper-pom\delete_20081310143403890.csv
</pre>
</div></div><p><strong>Merk:</strong> Terminering/sletting av prosesser vil=
 fortsette selv om en eller flere termineringer/slettinger feiler.</p><h4 i=
d=3D"BPCHelperkommandolinjeverkt=C3=B8y-SAMORDNING">SAMORDNING</h4><p><em>S=
AMORDNING</em> kommandoen er laget for =C3=A5 migrere prosessinstanser som =
venter p=C3=A5 samordning fra =C3=A9n prosessversjon til en annnen. Den tar=
 en liste med vedtaksId'er som input (med en vedtaksId pr linje), og starte=
r en ny prosessinstans p=C3=A5 nyeste versjon av iverksettVedtak - denne in=
stansen vil gj=C3=B8re n=C3=B8dvendig innhenting av data og blir deretter s=
t=C3=A5ende og vente p=C3=A5 svar fra samordning.</p><p>Obligatorisk input =
til kommandoen er -if input file, samt en classpath variabel til pensjon-iv=
erksettVedtak-tjenestespesifikasjon - denne hentes fra nyeste versjon av pr=
osessen. Eksempel:</p><div class=3D"preformatted panel" style=3D"border-wid=
th: 1px;"><div class=3D"preformattedContent panelContent">
<pre> %LC_HOME%/launchClient.sh %H_HOME%/bpchelper-ear.ear -CCclasspath=3D%=
APP_HOME%/pensjon-prosess-iverksettVedtak_v1_1_20App.ear/pensjon-iverksettV=
edtak-tjenestespesifikasjon.jar;%APP_HOME%/pensjon-prosess-iverksettVedtak_=
v1_1_20App.ear/pensjon-samordning-tjenestespesifikasjon.jar  -CCtrace=3Dno.=
nav.* -CCpropfile=3D%H_HOME%/T7_helper.properties -cf %H_HOME%/T7_helper.pr=
operties -a SAMORDNING -if /tmp/input.csv
( ... )
[4/1/11 16:30:56:489 CEST] 00000001  I UOW=3D source=3Dno.nav.bpchelper.act=
ions.SamordningAction class=3Dno.nav.bpchelper.actions.SamordningAction met=
hod=3Dexecute
          1000 process(es) started
</pre>
</div></div><h3 id=3D"BPCHelperkommandolinjeverkt=C3=B8y-Returverdi">Returv=
erdi</h3><p>Alle kommandoer returnerer antall prosesser som tilfredsstiller=
 s=C3=B8kekriteriene, eventuelt -1 hvis noe gikk galt.</p><h3 id=3D"BPCHelp=
erkommandolinjeverkt=C3=B8y-Filtrering">Filtrering</h3><p>Alle kommandoer g=
ir mulighet for (ytterlige) filtrering av prosesser. Husk at verkt=C3=B8yet=
 <strong>kun</strong> forholder seg til <em>stoppede prosesser</em> (se def=
inisjon over), s=C3=A5 selv om man kj=C3=B8rer uten noen filtrerings-parame=
tere, vil det v=C3=A6re en implisitt filtrering i forhold til <em>stoppede =
prosesser</em>. Hvilke konkrete filtreringskriterier som st=C3=B8ttes vil n=
ok kunne endre seg noe over tid, men p.t. kan man filtrere i forhold til:</=
p><div class=3D"table-wrap"><table class=3D"confluenceTable"><tbody><tr><th=
 class=3D"confluenceTh"><p>=C2=A0</p></th><th class=3D"confluenceTh"><p>par=
ameter</p></th><th class=3D"confluenceTh"><p>beskrivelse</p></th><th class=
=3D"confluenceTh"><p>st=C3=B8tter wildcard</p></th><th class=3D"confluenceT=
h"><p>kommentar</p></th></tr><tr><td class=3D"confluenceTd"><p>ptn</p></td>=
<td class=3D"confluenceTd"><p>processTemplateName</p></td><td class=3D"conf=
luenceTd"><p>navn p=C3=A5 <em>process template</em> prosessen er en instans=
 av</p></td><td class=3D"confluenceTd"><p>ja</p></td><td class=3D"confluenc=
eTd"><p>=C2=A0</p></td></tr><tr><td class=3D"confluenceTd"><p>pcp</p></td><=
td class=3D"confluenceTd"><p>processCustomProperty</p></td><td class=3D"con=
fluenceTd"><p>navn/verdier p=C3=A5 <em>custom properties</em> tilh=C3=B8ren=
de prosessen</p></td><td class=3D"confluenceTd"><p>ja, b=C3=A5de navn og ve=
rdi</p></td><td class=3D"confluenceTd"><p>st=C3=B8tter filtrering p=C3=A5 f=
lere properties i samme s=C3=B8k</p></td></tr><tr><td class=3D"confluenceTd=
"><p>tf</p></td><td class=3D"confluenceTd"><p>timeFrame</p></td><td class=
=3D"confluenceTd"><p>tidsrom for n=C3=A5r prosessen ble startet</p></td><td=
 class=3D"confluenceTd"><p>nei</p></td><td class=3D"confluenceTd"><p>=C2=A0=
</p></td></tr><tr><td class=3D"confluenceTd"><p>an</p></td><td class=3D"con=
fluenceTd"><p>activityName</p></td><td class=3D"confluenceTd"><p>navn p=C3=
=A5 aktivitet(er) tilnyttet prosessen</p></td><td class=3D"confluenceTd"><p=
>ja</p></td><td class=3D"confluenceTd"><p>=C2=A0</p></td></tr></tbody></tab=
le></div><ul><li>Wildcard s=C3=B8k trigges av at parameter-verdi inneholder=
 en eller flere forekomster av %, og fungerer i praksis som <code>SQL-LIKE<=
/code>.</li><li>Filteringskriterier kan kombineres, og vil da kombineres so=
m <code>OG/AND</code>.</li></ul><div class=3D"preformatted panel" style=3D"=
border-width: 1px;"><div class=3D"preformattedContent panelContent">
<pre>Eksempel: =C3=98nsker =C3=A5 rapportere alle stoppede prosesser med cu=
stom property terminatedSuccessfully=3Dtrue

%LC_HOME%/launchClient.sh %H_HOME%/bpchelper-ear.ear -CCtrace=3Dno.nav.* -C=
Cpropfile=3D%H_HOME%/Q1_helper.properties -cf %H_HOME%/Q1_helper.properties=
 -a REPORT=20
-pcp terminatedSuccessfully=3Dtrue
</pre>
</div></div><p>Hvis man f.eks. er interessert i =C3=A5 finne alle stoppede =
prosesser</p><h3 id=3D"BPCHelperkommandolinjeverkt=C3=B8y-Rapportering">Rap=
portering</h3><p>Alle kommandoer, med unntak av <em>STATUS</em>, vil oppret=
te en rapport (CSV-format) med oversikt over prosesser som tilfredsstiller =
s=C3=B8kekriteriene, og eventuelt resultat av endring av prosess (et result=
at per prosess). F=C3=B8lgende parametere kan benyttes til =C3=A5 styre rap=
portering:</p><div class=3D"table-wrap"><table class=3D"confluenceTable"><t=
body><tr><th class=3D"confluenceTh"><p>=C2=A0</p></th><th class=3D"confluen=
ceTh"><p>parameter</p></th><th class=3D"confluenceTh"><p>beskrivelse</p></t=
h><th class=3D"confluenceTh"><p>default verdi</p></th><th class=3D"confluen=
ceTh"><p>eksempel</p></th></tr><tr><td class=3D"confluenceTd"><p>rd</p></td=
><td class=3D"confluenceTd"><p>reportDirctory</p></td><td class=3D"confluen=
ceTd"><p>katalog rapporten skrives til</p></td><td class=3D"confluenceTd"><=
p>. (st=C3=A5ende katalog)</p></td><td class=3D"confluenceTd"><p>=C2=A0</p>=
</td></tr><tr><td class=3D"confluenceTd"><p>rf</p></td><td class=3D"conflue=
nceTd"><p>reportFile</p></td><td class=3D"confluenceTd"><p>filnavn p=C3=A5 =
rapporten</p></td><td class=3D"confluenceTd"><p>&lt;kommando-navn&gt;_&lt;t=
imestamp[yyyyddMMHHmmssSSS]&gt;.csv</p></td><td class=3D"confluenceTd"><p>r=
eport_20080910161337359.csv</p></td></tr></tbody></table></div><h3 id=3D"BP=
CHelperkommandolinjeverkt=C3=B8y-Interaktivitet">Interaktivitet</h3><p>Noen=
 av operasjonene som verkt=C3=B8yet gj=C3=B8r kan bli veldig tunge (legge b=
eslag p=C3=A5 ressurser og/eller ta lang tid), og potensielt endre et stort=
 antall prosesser. Disse operasjonene vil derfor (default) kj=C3=B8re inter=
aktivt, og m=C3=A5 bekreftes utf=C3=B8rt av operat=C3=B8r underveis. Applik=
asjonen kan kj=C3=B8res i ikke-interaktiv modus ved =C3=A5 angi parameter <=
code>--noStop/-ns</code>. Alle operasjoner vil da utf=C3=B8res uten bekreft=
else fra operat=C3=B8r.</p>
    </body>
</html>
------=_Part_177784_1052684611.1398250961148--
